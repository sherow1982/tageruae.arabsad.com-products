<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>منتجات تاجر الإمارات</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:'Tajawal',sans-serif;margin:20px}
.product{border:1px solid #ccc;padding:10px;margin-bottom:10px}
.product img{width:100%;height:auto}
</style>
</head>
<body>

<h1>منتجات تاجر الإمارات</h1>
<div id="products">جارٍ تحميل المنتجات...</div>

<script>
const FEED_URL="https://api.easy-orders.net/api/v1/products/feed/437a38bb829245a3934e1d2fe153b417/channel/json";
const OLD_DOMAIN="https://tageruae.arabsad.com/";
const NEW_DOMAIN="https://tageruae.myeasyorders.com/";

async function loadProducts(){
    const container=document.getElementById("products");
    try{
        const res=await fetch(FEED_URL);
        if(!res.ok) throw new Error("Failed to fetch feed");
        const data=await res.json();
        container.innerHTML="";
        data.forEach(p=>{
            const div=document.createElement("div");
            div.className="product";
            div.innerHTML=`
                <h2>${p.title}</h2>
                <a href="${p.link.replace(OLD_DOMAIN,NEW_DOMAIN)}" target="_blank">
                    <img src="${p.image}" alt="${p.title}">
                </a>
                <p>السعر: ${p.price} د.إ</p>
            `;
            container.appendChild(div);
        });
    }catch(err){
        container.innerHTML="حدث خطأ في تحميل المنتجات.";
        console.error(err);
    }
}

loadProducts();
</script>

</body>
</html>
